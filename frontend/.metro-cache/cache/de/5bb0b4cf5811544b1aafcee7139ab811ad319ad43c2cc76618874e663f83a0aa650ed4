{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getEpisodes = getEpisodes;\n  exports.startQuiz = startQuiz;\n  exports.saveScore = saveScore;\n  exports.getLeaderboard = getLeaderboard;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://denizquiz.emergent.host';\n  async function getEpisodes() {\n    const response = await fetch(`${API_URL}/api/episodes`);\n    if (!response.ok) throw new Error('Failed to fetch episodes');\n    return response.json();\n  }\n  async function startQuiz(episodeId, count = 20) {\n    const response = await fetch(`${API_URL}/api/quiz/${episodeId}?count=${count}`);\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.detail || 'Failed to start quiz');\n    }\n    return response.json();\n  }\n  async function saveScore(episodeId, playerName, score) {\n    const response = await fetch(`${API_URL}/api/leaderboard`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        episode_id: episodeId,\n        player_name: playerName,\n        score\n      })\n    });\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.detail || 'Failed to save score');\n    }\n  }\n  async function getLeaderboard(episodeId, playerName) {\n    let url = `${API_URL}/api/leaderboard/${episodeId}`;\n    if (playerName) url += `?player_name=${encodeURIComponent(playerName)}`;\n    const response = await fetch(url);\n    if (!response.ok) throw new Error('Failed to fetch leaderboard');\n    return response.json();\n  }\n});","lineCount":50,"map":[[7,2,47,0,"exports"],[7,9,47,0],[7,10,47,0,"getEpisodes"],[7,21,47,0],[7,24,47,0,"getEpisodes"],[7,35,47,0],[8,2,53,0,"exports"],[8,9,53,0],[8,10,53,0,"startQuiz"],[8,19,53,0],[8,22,53,0,"startQuiz"],[8,31,53,0],[9,2,62,0,"exports"],[9,9,62,0],[9,10,62,0,"saveScore"],[9,19,62,0],[9,22,62,0,"saveScore"],[9,31,62,0],[10,2,74,0,"exports"],[10,9,74,0],[10,10,74,0,"getLeaderboard"],[10,24,74,0],[10,27,74,0,"getLeaderboard"],[10,41,74,0],[11,2,80,1],[11,6,80,1,"_expoVirtualEnv"],[11,21,80,1],[11,24,80,1,"require"],[11,31,80,1],[11,32,80,1,"_dependencyMap"],[11,46,80,1],[12,2,1,0],[12,8,1,6,"API_URL"],[12,15,1,13],[12,18,1,16,"_expoVirtualEnv"],[12,33,1,16],[12,34,1,16,"env"],[12,37,1,16],[12,38,1,16,"EXPO_PUBLIC_BACKEND_URL"],[12,61,1,16],[12,65,1,55],[12,98,1,88],[13,2,47,7],[13,17,47,22,"getEpisodes"],[13,28,47,33,"getEpisodes"],[13,29,47,33],[13,31,47,56],[14,4,48,2],[14,10,48,8,"response"],[14,18,48,16],[14,21,48,19],[14,27,48,25,"fetch"],[14,32,48,30],[14,33,48,31],[14,36,48,34,"API_URL"],[14,43,48,41],[14,58,48,56],[14,59,48,57],[15,4,49,2],[15,8,49,6],[15,9,49,7,"response"],[15,17,49,15],[15,18,49,16,"ok"],[15,20,49,18],[15,22,49,20],[15,28,49,26],[15,32,49,30,"Error"],[15,37,49,35],[15,38,49,36],[15,64,49,62],[15,65,49,63],[16,4,50,2],[16,11,50,9,"response"],[16,19,50,17],[16,20,50,18,"json"],[16,24,50,22],[16,25,50,23],[16,26,50,24],[17,2,51,0],[18,2,53,7],[18,17,53,22,"startQuiz"],[18,26,53,31,"startQuiz"],[18,27,53,32,"episodeId"],[18,36,53,49],[18,38,53,51,"count"],[18,43,53,64],[18,46,53,67],[18,48,53,69],[18,50,53,94],[19,4,54,2],[19,10,54,8,"response"],[19,18,54,16],[19,21,54,19],[19,27,54,25,"fetch"],[19,32,54,30],[19,33,54,31],[19,36,54,34,"API_URL"],[19,43,54,41],[19,56,54,54,"episodeId"],[19,65,54,63],[19,75,54,73,"count"],[19,80,54,78],[19,82,54,80],[19,83,54,81],[20,4,55,2],[20,8,55,6],[20,9,55,7,"response"],[20,17,55,15],[20,18,55,16,"ok"],[20,20,55,18],[20,22,55,20],[21,6,56,4],[21,12,56,10,"error"],[21,17,56,15],[21,20,56,18],[21,26,56,24,"response"],[21,34,56,32],[21,35,56,33,"json"],[21,39,56,37],[21,40,56,38],[21,41,56,39],[22,6,57,4],[22,12,57,10],[22,16,57,14,"Error"],[22,21,57,19],[22,22,57,20,"error"],[22,27,57,25],[22,28,57,26,"detail"],[22,34,57,32],[22,38,57,36],[22,60,57,58],[22,61,57,59],[23,4,58,2],[24,4,59,2],[24,11,59,9,"response"],[24,19,59,17],[24,20,59,18,"json"],[24,24,59,22],[24,25,59,23],[24,26,59,24],[25,2,60,0],[26,2,62,7],[26,17,62,22,"saveScore"],[26,26,62,31,"saveScore"],[26,27,62,32,"episodeId"],[26,36,62,49],[26,38,62,51,"playerName"],[26,48,62,69],[26,50,62,71,"score"],[26,55,62,84],[26,57,62,101],[27,4,63,2],[27,10,63,8,"response"],[27,18,63,16],[27,21,63,19],[27,27,63,25,"fetch"],[27,32,63,30],[27,33,63,31],[27,36,63,34,"API_URL"],[27,43,63,41],[27,61,63,59],[27,63,63,61],[28,6,64,4,"method"],[28,12,64,10],[28,14,64,12],[28,20,64,18],[29,6,65,4,"headers"],[29,13,65,11],[29,15,65,13],[30,8,65,15],[30,22,65,29],[30,24,65,31],[31,6,65,50],[31,7,65,51],[32,6,66,4,"body"],[32,10,66,8],[32,12,66,10,"JSON"],[32,16,66,14],[32,17,66,15,"stringify"],[32,26,66,24],[32,27,66,25],[33,8,66,27,"episode_id"],[33,18,66,37],[33,20,66,39,"episodeId"],[33,29,66,48],[34,8,66,50,"player_name"],[34,19,66,61],[34,21,66,63,"playerName"],[34,31,66,73],[35,8,66,75,"score"],[36,6,66,81],[36,7,66,82],[37,4,67,2],[37,5,67,3],[37,6,67,4],[38,4,68,2],[38,8,68,6],[38,9,68,7,"response"],[38,17,68,15],[38,18,68,16,"ok"],[38,20,68,18],[38,22,68,20],[39,6,69,4],[39,12,69,10,"error"],[39,17,69,15],[39,20,69,18],[39,26,69,24,"response"],[39,34,69,32],[39,35,69,33,"json"],[39,39,69,37],[39,40,69,38],[39,41,69,39],[40,6,70,4],[40,12,70,10],[40,16,70,14,"Error"],[40,21,70,19],[40,22,70,20,"error"],[40,27,70,25],[40,28,70,26,"detail"],[40,34,70,32],[40,38,70,36],[40,60,70,58],[40,61,70,59],[41,4,71,2],[42,2,72,0],[43,2,74,7],[43,17,74,22,"getLeaderboard"],[43,31,74,36,"getLeaderboard"],[43,32,74,37,"episodeId"],[43,41,74,54],[43,43,74,56,"playerName"],[43,53,74,75],[43,55,74,107],[44,4,75,2],[44,8,75,6,"url"],[44,11,75,9],[44,14,75,12],[44,17,75,15,"API_URL"],[44,24,75,22],[44,44,75,42,"episodeId"],[44,53,75,51],[44,55,75,53],[45,4,76,2],[45,8,76,6,"playerName"],[45,18,76,16],[45,20,76,18,"url"],[45,23,76,21],[45,27,76,25],[45,43,76,41,"encodeURIComponent"],[45,61,76,59],[45,62,76,60,"playerName"],[45,72,76,70],[45,73,76,71],[45,75,76,73],[46,4,77,2],[46,10,77,8,"response"],[46,18,77,16],[46,21,77,19],[46,27,77,25,"fetch"],[46,32,77,30],[46,33,77,31,"url"],[46,36,77,34],[46,37,77,35],[47,4,78,2],[47,8,78,6],[47,9,78,7,"response"],[47,17,78,15],[47,18,78,16,"ok"],[47,20,78,18],[47,22,78,20],[47,28,78,26],[47,32,78,30,"Error"],[47,37,78,35],[47,38,78,36],[47,67,78,65],[47,68,78,66],[48,4,79,2],[48,11,79,9,"response"],[48,19,79,17],[48,20,79,18,"json"],[48,24,79,22],[48,25,79,23],[48,26,79,24],[49,2,80,0],[50,0,80,1],[50,3]],"functionMap":{"names":["<global>","getEpisodes","startQuiz","saveScore","getLeaderboard"],"mappings":"AAA;OC8C;CDI;OEE;CFO;OGE;CHU;OIE;CJM"},"hasCjsExports":false},"type":"js/module"}]}