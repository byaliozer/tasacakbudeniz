{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getEpisodes = getEpisodes;\n  exports.startQuiz = startQuiz;\n  exports.saveScore = saveScore;\n  exports.getLeaderboard = getLeaderboard;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n  function getEpisodes() {\n    return _getEpisodes.apply(this, arguments);\n  }\n  function _getEpisodes() {\n    _getEpisodes = (0, _asyncToGenerator.default)(function* () {\n      var response = yield fetch(`${API_URL}/api/episodes`);\n      if (!response.ok) throw new Error('Failed to fetch episodes');\n      return response.json();\n    });\n    return _getEpisodes.apply(this, arguments);\n  }\n  function startQuiz(_x) {\n    return _startQuiz.apply(this, arguments);\n  }\n  function _startQuiz() {\n    _startQuiz = (0, _asyncToGenerator.default)(function* (episodeId) {\n      var count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;\n      var response = yield fetch(`${API_URL}/api/quiz/${episodeId}?count=${count}`);\n      if (!response.ok) {\n        var error = yield response.json();\n        throw new Error(error.detail || 'Failed to start quiz');\n      }\n      return response.json();\n    });\n    return _startQuiz.apply(this, arguments);\n  }\n  function saveScore(_x2, _x3, _x4) {\n    return _saveScore.apply(this, arguments);\n  }\n  function _saveScore() {\n    _saveScore = (0, _asyncToGenerator.default)(function* (episodeId, playerName, score) {\n      var response = yield fetch(`${API_URL}/api/leaderboard`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          episode_id: episodeId,\n          player_name: playerName,\n          score\n        })\n      });\n      if (!response.ok) {\n        var error = yield response.json();\n        throw new Error(error.detail || 'Failed to save score');\n      }\n    });\n    return _saveScore.apply(this, arguments);\n  }\n  function getLeaderboard(_x5, _x6) {\n    return _getLeaderboard.apply(this, arguments);\n  }\n  function _getLeaderboard() {\n    _getLeaderboard = (0, _asyncToGenerator.default)(function* (episodeId, playerName) {\n      var url = `${API_URL}/api/leaderboard/${episodeId}`;\n      if (playerName) url += `?player_name=${encodeURIComponent(playerName)}`;\n      var response = yield fetch(url);\n      if (!response.ok) throw new Error('Failed to fetch leaderboard');\n      return response.json();\n    });\n    return _getLeaderboard.apply(this, arguments);\n  }\n});","lineCount":82,"map":[[12,2,47,0,"exports"],[12,9,47,0],[12,10,47,0,"getEpisodes"],[12,21,47,0],[12,24,47,0,"getEpisodes"],[12,35,47,0],[13,2,53,0,"exports"],[13,9,53,0],[13,10,53,0,"startQuiz"],[13,19,53,0],[13,22,53,0,"startQuiz"],[13,31,53,0],[14,2,62,0,"exports"],[14,9,62,0],[14,10,62,0,"saveScore"],[14,19,62,0],[14,22,62,0,"saveScore"],[14,31,62,0],[15,2,74,0,"exports"],[15,9,74,0],[15,10,74,0,"getLeaderboard"],[15,24,74,0],[15,27,74,0,"getLeaderboard"],[15,41,74,0],[16,2,80,1],[16,6,80,1,"_babelRuntimeHelpersAsyncToGenerator"],[16,42,80,1],[16,45,80,1,"require"],[16,52,80,1],[16,53,80,1,"_dependencyMap"],[16,67,80,1],[17,2,80,1],[17,6,80,1,"_asyncToGenerator"],[17,23,80,1],[17,26,80,1,"_interopDefault"],[17,41,80,1],[17,42,80,1,"_babelRuntimeHelpersAsyncToGenerator"],[17,78,80,1],[18,2,80,1],[18,6,80,1,"_expoVirtualEnv"],[18,21,80,1],[18,24,80,1,"require"],[18,31,80,1],[18,32,80,1,"_dependencyMap"],[18,46,80,1],[19,2,1,0],[19,6,1,6,"API_URL"],[19,13,1,13],[19,16,1,16,"_expoVirtualEnv"],[19,31,1,16],[19,32,1,16,"env"],[19,35,1,16],[19,36,1,16,"EXPO_PUBLIC_BACKEND_URL"],[19,59,1,16],[19,63,1,55],[19,65,1,57],[20,2,1,58],[20,11,47,22,"getEpisodes"],[20,22,47,33,"getEpisodes"],[20,23,47,33],[21,4,47,33],[21,11,47,33,"_getEpisodes"],[21,23,47,33],[21,24,47,33,"apply"],[21,29,47,33],[21,36,47,33,"arguments"],[21,45,47,33],[22,2,47,33],[23,2,47,33],[23,11,47,33,"_getEpisodes"],[23,24,47,33],[24,4,47,33,"_getEpisodes"],[24,16,47,33],[24,23,47,33,"_asyncToGenerator"],[24,40,47,33],[24,41,47,33,"default"],[24,48,47,33],[24,50,47,7],[24,63,47,56],[25,6,48,2],[25,10,48,8,"response"],[25,18,48,16],[25,27,48,25,"fetch"],[25,32,48,30],[25,33,48,31],[25,36,48,34,"API_URL"],[25,43,48,41],[25,58,48,56],[25,59,48,57],[26,6,49,2],[26,10,49,6],[26,11,49,7,"response"],[26,19,49,15],[26,20,49,16,"ok"],[26,22,49,18],[26,24,49,20],[26,30,49,26],[26,34,49,30,"Error"],[26,39,49,35],[26,40,49,36],[26,66,49,62],[26,67,49,63],[27,6,50,2],[27,13,50,9,"response"],[27,21,50,17],[27,22,50,18,"json"],[27,26,50,22],[27,27,50,23],[27,28,50,24],[28,4,51,0],[28,5,51,1],[29,4,51,1],[29,11,51,1,"_getEpisodes"],[29,23,51,1],[29,24,51,1,"apply"],[29,29,51,1],[29,36,51,1,"arguments"],[29,45,51,1],[30,2,51,1],[31,2,51,1],[31,11,53,22,"startQuiz"],[31,20,53,31,"startQuiz"],[31,21,53,31,"_x"],[31,23,53,31],[32,4,53,31],[32,11,53,31,"_startQuiz"],[32,21,53,31],[32,22,53,31,"apply"],[32,27,53,31],[32,34,53,31,"arguments"],[32,43,53,31],[33,2,53,31],[34,2,53,31],[34,11,53,31,"_startQuiz"],[34,22,53,31],[35,4,53,31,"_startQuiz"],[35,14,53,31],[35,21,53,31,"_asyncToGenerator"],[35,38,53,31],[35,39,53,31,"default"],[35,46,53,31],[35,48,53,7],[35,59,53,32,"episodeId"],[35,68,53,49],[35,70,53,94],[36,6,53,94],[36,10,53,51,"count"],[36,15,53,64],[36,18,53,64,"arguments"],[36,27,53,64],[36,28,53,64,"length"],[36,34,53,64],[36,42,53,64,"arguments"],[36,51,53,64],[36,59,53,64,"undefined"],[36,68,53,64],[36,71,53,64,"arguments"],[36,80,53,64],[36,86,53,67],[36,88,53,69],[37,6,54,2],[37,10,54,8,"response"],[37,18,54,16],[37,27,54,25,"fetch"],[37,32,54,30],[37,33,54,31],[37,36,54,34,"API_URL"],[37,43,54,41],[37,56,54,54,"episodeId"],[37,65,54,63],[37,75,54,73,"count"],[37,80,54,78],[37,82,54,80],[37,83,54,81],[38,6,55,2],[38,10,55,6],[38,11,55,7,"response"],[38,19,55,15],[38,20,55,16,"ok"],[38,22,55,18],[38,24,55,20],[39,8,56,4],[39,12,56,10,"error"],[39,17,56,15],[39,26,56,24,"response"],[39,34,56,32],[39,35,56,33,"json"],[39,39,56,37],[39,40,56,38],[39,41,56,39],[40,8,57,4],[40,14,57,10],[40,18,57,14,"Error"],[40,23,57,19],[40,24,57,20,"error"],[40,29,57,25],[40,30,57,26,"detail"],[40,36,57,32],[40,40,57,36],[40,62,57,58],[40,63,57,59],[41,6,58,2],[42,6,59,2],[42,13,59,9,"response"],[42,21,59,17],[42,22,59,18,"json"],[42,26,59,22],[42,27,59,23],[42,28,59,24],[43,4,60,0],[43,5,60,1],[44,4,60,1],[44,11,60,1,"_startQuiz"],[44,21,60,1],[44,22,60,1,"apply"],[44,27,60,1],[44,34,60,1,"arguments"],[44,43,60,1],[45,2,60,1],[46,2,60,1],[46,11,62,22,"saveScore"],[46,20,62,31,"saveScore"],[46,21,62,31,"_x2"],[46,24,62,31],[46,26,62,31,"_x3"],[46,29,62,31],[46,31,62,31,"_x4"],[46,34,62,31],[47,4,62,31],[47,11,62,31,"_saveScore"],[47,21,62,31],[47,22,62,31,"apply"],[47,27,62,31],[47,34,62,31,"arguments"],[47,43,62,31],[48,2,62,31],[49,2,62,31],[49,11,62,31,"_saveScore"],[49,22,62,31],[50,4,62,31,"_saveScore"],[50,14,62,31],[50,21,62,31,"_asyncToGenerator"],[50,38,62,31],[50,39,62,31,"default"],[50,46,62,31],[50,48,62,7],[50,59,62,32,"episodeId"],[50,68,62,49],[50,70,62,51,"playerName"],[50,80,62,69],[50,82,62,71,"score"],[50,87,62,84],[50,89,62,101],[51,6,63,2],[51,10,63,8,"response"],[51,18,63,16],[51,27,63,25,"fetch"],[51,32,63,30],[51,33,63,31],[51,36,63,34,"API_URL"],[51,43,63,41],[51,61,63,59],[51,63,63,61],[52,8,64,4,"method"],[52,14,64,10],[52,16,64,12],[52,22,64,18],[53,8,65,4,"headers"],[53,15,65,11],[53,17,65,13],[54,10,65,15],[54,24,65,29],[54,26,65,31],[55,8,65,50],[55,9,65,51],[56,8,66,4,"body"],[56,12,66,8],[56,14,66,10,"JSON"],[56,18,66,14],[56,19,66,15,"stringify"],[56,28,66,24],[56,29,66,25],[57,10,66,27,"episode_id"],[57,20,66,37],[57,22,66,39,"episodeId"],[57,31,66,48],[58,10,66,50,"player_name"],[58,21,66,61],[58,23,66,63,"playerName"],[58,33,66,73],[59,10,66,75,"score"],[60,8,66,81],[60,9,66,82],[61,6,67,2],[61,7,67,3],[61,8,67,4],[62,6,68,2],[62,10,68,6],[62,11,68,7,"response"],[62,19,68,15],[62,20,68,16,"ok"],[62,22,68,18],[62,24,68,20],[63,8,69,4],[63,12,69,10,"error"],[63,17,69,15],[63,26,69,24,"response"],[63,34,69,32],[63,35,69,33,"json"],[63,39,69,37],[63,40,69,38],[63,41,69,39],[64,8,70,4],[64,14,70,10],[64,18,70,14,"Error"],[64,23,70,19],[64,24,70,20,"error"],[64,29,70,25],[64,30,70,26,"detail"],[64,36,70,32],[64,40,70,36],[64,62,70,58],[64,63,70,59],[65,6,71,2],[66,4,72,0],[66,5,72,1],[67,4,72,1],[67,11,72,1,"_saveScore"],[67,21,72,1],[67,22,72,1,"apply"],[67,27,72,1],[67,34,72,1,"arguments"],[67,43,72,1],[68,2,72,1],[69,2,72,1],[69,11,74,22,"getLeaderboard"],[69,25,74,36,"getLeaderboard"],[69,26,74,36,"_x5"],[69,29,74,36],[69,31,74,36,"_x6"],[69,34,74,36],[70,4,74,36],[70,11,74,36,"_getLeaderboard"],[70,26,74,36],[70,27,74,36,"apply"],[70,32,74,36],[70,39,74,36,"arguments"],[70,48,74,36],[71,2,74,36],[72,2,74,36],[72,11,74,36,"_getLeaderboard"],[72,27,74,36],[73,4,74,36,"_getLeaderboard"],[73,19,74,36],[73,26,74,36,"_asyncToGenerator"],[73,43,74,36],[73,44,74,36,"default"],[73,51,74,36],[73,53,74,7],[73,64,74,37,"episodeId"],[73,73,74,54],[73,75,74,56,"playerName"],[73,85,74,75],[73,87,74,107],[74,6,75,2],[74,10,75,6,"url"],[74,13,75,9],[74,16,75,12],[74,19,75,15,"API_URL"],[74,26,75,22],[74,46,75,42,"episodeId"],[74,55,75,51],[74,57,75,53],[75,6,76,2],[75,10,76,6,"playerName"],[75,20,76,16],[75,22,76,18,"url"],[75,25,76,21],[75,29,76,25],[75,45,76,41,"encodeURIComponent"],[75,63,76,59],[75,64,76,60,"playerName"],[75,74,76,70],[75,75,76,71],[75,77,76,73],[76,6,77,2],[76,10,77,8,"response"],[76,18,77,16],[76,27,77,25,"fetch"],[76,32,77,30],[76,33,77,31,"url"],[76,36,77,34],[76,37,77,35],[77,6,78,2],[77,10,78,6],[77,11,78,7,"response"],[77,19,78,15],[77,20,78,16,"ok"],[77,22,78,18],[77,24,78,20],[77,30,78,26],[77,34,78,30,"Error"],[77,39,78,35],[77,40,78,36],[77,69,78,65],[77,70,78,66],[78,6,79,2],[78,13,79,9,"response"],[78,21,79,17],[78,22,79,18,"json"],[78,26,79,22],[78,27,79,23],[78,28,79,24],[79,4,80,0],[79,5,80,1],[80,4,80,1],[80,11,80,1,"_getLeaderboard"],[80,26,80,1],[80,27,80,1,"apply"],[80,32,80,1],[80,39,80,1,"arguments"],[80,48,80,1],[81,2,80,1],[82,0,80,1],[82,3]],"functionMap":{"names":["<global>","getEpisodes","startQuiz","saveScore","getLeaderboard"],"mappings":"AAA;OC8C;CDI;OEE;CFO;OGE;CHU;OIE;CJM"},"hasCjsExports":false},"type":"js/module"}]}